(function(t){function e(e){for(var a,i,c=e[0],s=e[1],l=e[2],h=0,p=[];h<c.length;h++)i=c[h],r[i]&&p.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0913":function(t,e,n){},2920:function(t,e,n){"use strict";var a=n("c2c1"),r=n.n(a);r.a},"33e9":function(t,e,n){"use strict";var a=n("8073"),r=n.n(a);r.a},"57dd":function(t,e,n){},"78f7":function(t,e,n){"use strict";var a=n("899c"),r=n.n(a);r.a},8073:function(t,e,n){},"899c":function(t,e,n){},a8b8:function(t,e,n){"use strict";var a=n("0913"),r=n.n(a);r.a},c2c1:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("bb71");n("da64");a["a"].use(r["a"],{theme:{primary:"#00838F",secondary:"#424242",accent:"#00B8D4",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"md"});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("app-header"),n("v-content",[n("nav-bar"),n("contact-list"),n("birthday-list"),n("settings"),n("contact-card")],1)],1)},i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"primary",dark:"",app:""}},[n("v-toolbar-title",{staticClass:"headline"},[n("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.switchDrawerState()}}}),n("span",{staticClass:"text-uppercase"},[t._v("Контакты")]),n("span",{staticClass:"font-weight-light"},[t._v("НайдиВсех")])],1)],1)},s=[],l=n("d225"),u=n("b0b4"),h=n("308d"),p=n("6bb5"),d=n("4e2b"),f=n("9ab4"),v=n("60a3"),m=function(t){function e(){return Object(l["a"])(this,e),Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"switchDrawerState",value:function(){this.$store.dispatch("SWITCH_DRAWER_STATE")}}]),e}(v["b"]);m=f["a"]([Object(v["a"])({})],m);var g=m,_=g,b=(n("78f7"),n("2877")),T=n("6544"),O=n.n(T),C=n("71d9"),y=n("706c"),E=n("2a7f"),S=Object(b["a"])(_,c,s,!1,null,"557b4b80",null),w=S.exports;O()(S,{VToolbar:C["a"],VToolbarSideIcon:y["a"],VToolbarTitle:E["a"]});var k,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:t.drawerState,callback:function(e){t.drawerState=e},expression:"drawerState"}},[n("v-list",t._l(t.items,function(e){return n("v-list-tile",{key:e.text,on:{click:function(n){return t.selectPage(e.page)}}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.text))])],1)],1)}),1)],1)},x=[];(function(t){t[t["ContactList"]=0]="ContactList",t[t["BirthdayList"]=1]="BirthdayList",t[t["Settings"]=2]="Settings"})(k||(k={}));var L=k,R=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.items=[{page:L.ContactList,icon:"contacts",text:"Все контакты"},{page:L.BirthdayList,icon:"event_note",text:"Дни рождения"},{page:L.Settings,icon:"settings",text:"Настройки"}],t}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"selectPage",value:function(t){this.$store.dispatch("SELECT_PAGE",t)}},{key:"drawerState",get:function(){return this.$store.getters.DRAWER_STATE},set:function(t){t||this.$store.dispatch("CLOSE_DRAWER")}}]),e}(v["b"]);R=f["a"]([Object(v["a"])({})],R);var D=R,N=D,j=(n("2920"),n("132d")),P=n("8860"),F=n("ba95"),I=n("40fe"),V=n("5d23"),G=n("f774"),$=Object(b["a"])(N,A,x,!1,null,"46e07250",null),U=$.exports;O()($,{VIcon:j["a"],VList:P["a"],VListTile:F["a"],VListTileAction:I["a"],VListTileContent:V["b"],VListTileTitle:V["d"],VNavigationDrawer:G["a"]});var H,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedPage(),expression:"isSelectedPage()"}],attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[n("v-card",[n("v-list",{attrs:{subheader:""}},[n("v-subheader",[t._v("Все контакты")]),n("groups-bar"),t._l(t.contacts,function(e){return n("v-list-tile",{key:e.id,attrs:{avatar:""},on:{click:function(n){return t.showDialog(e.id)}}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.photo}})]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.fio)}}),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.getFormattedMainPhoneNumber())}})],1),e.isInGroup()?n("v-list-tile-action-text",[n("group-chip",{attrs:{group:e.group,disabled:!0}})],1):t._e()],1)})],2)],1)],1),n("v-btn",{attrs:{fab:"",bottom:"",right:"",color:"primary",dark:"",fixed:""},on:{click:function(e){return t.showDialog()}}},[n("v-icon",[t._v("add")])],1)],1)},M=[];n("55dd");(function(t){t[t["None"]=0]="None",t[t["Family"]=1]="Family",t[t["Friends"]=2]="Friends",t[t["Сolleagues"]=3]="Сolleagues"})(H||(H={}));var W=H,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bar"}},t._l(t.groups,function(e){return n("group-chip",{key:e.key,attrs:{group:e,selected:e.key==t.selectedGroup}})}),1)},z=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chip",{attrs:{"text-color":t.textColor,dark:"",color:t.group.color,disabled:t.disabled,selected:t.selected,outline:!t.selected&&!t.disabled},on:{click:function(e){return t.selectGroup()}}},[t._v("\n  "+t._s(t.group.name)+"\n")])},q=[],K=function(){function t(e){Object(l["a"])(this,t),this.key=e,this.name=this.generateName(e),this.color=this.generateColor(e)}return Object(u["a"])(t,[{key:"generateName",value:function(t){var e="";switch(this.key){case H.Family:e="Семья";break;case H.Friends:e="Друзья";break;case H.Сolleagues:e="Коллеги";break;default:e="Все";break}return e}},{key:"generateColor",value:function(t){var e="";switch(this.key){case H.Family:e="pink lighten-1";break;case H.Friends:e="amber accent-4";break;case H.Сolleagues:e="#60cc11";break;default:e="light-blue accent-4";break}return e}}]),t}(),Q=function(t){function e(){return Object(l["a"])(this,e),Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"selectGroup",value:function(){this.$props.disabled||this.$props.selected||this.$store.dispatch("CHANGE_GROUP_TO_FILTER",this.$props.group.key)}},{key:"textColor",get:function(){return this.$props.selected||this.$props.disabled?"white":this.$props.group.color}}]),e}(v["b"]);Q=f["a"]([Object(v["a"])({name:"group-chip",props:{group:{type:K,required:!0},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}}})],Q);var X=Q,Y=X,tt=n("cc20"),et=Object(b["a"])(Y,Z,q,!1,null,null,null),nt=et.exports;O()(et,{VChip:tt["a"]});var at=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.groups=[new K(W.None),new K(W.Family),new K(W.Friends),new K(W.Сolleagues)],t}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"selectedGroup",get:function(){return this.$store.getters.GROUP_TO_FILTER}}]),e}(v["b"]);at=f["a"]([Object(v["a"])({components:{GroupChip:Q}})],at);var rt=at,ot=rt,it=(n("33e9"),Object(b["a"])(ot,J,z,!1,null,null,null)),ct=it.exports,st=function(t){function e(){return Object(l["a"])(this,e),Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"isSelectedPage",value:function(){return this.$store.getters.SELECTED_PAGE===L.ContactList}},{key:"showDialog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.$store.dispatch("SELECT_CONTACT_ID",t),this.$store.dispatch("SHOW_DIALOG")}},{key:"sortByName",value:function(t){return t.sort(this.compareContacts)}},{key:"compareContacts",value:function(t,e){return t.fio>e.fio?1:t.fio<e.fio?-1:0}},{key:"filterByGroup",value:function(t,e){var n=[];return n=e===W.None?t:t.filter(function(t){return t.group.key===e}),n}},{key:"contacts",get:function(){var t=this.$store.getters.CONTACTS.slice(0);return this.sortByName(this.filterByGroup(t,this.groupToFilter))}},{key:"groupToFilter",get:function(){return this.$store.getters.GROUP_TO_FILTER}}]),e}(v["b"]);st=f["a"]([Object(v["a"])({components:{GroupsBar:ct,GroupChip:nt}})],st);var lt=st,ut=lt,ht=n("8336"),pt=n("b0af"),dt=n("0e8f"),ft=n("a722"),vt=n("c954"),mt=n("e0c7"),gt=Object(b["a"])(ut,B,M,!1,null,null,null),_t=gt.exports;O()(gt,{VBtn:ht["a"],VCard:pt["a"],VFlex:dt["a"],VIcon:j["a"],VLayout:ft["a"],VList:P["a"],VListTile:F["a"],VListTileActionText:V["a"],VListTileAvatar:vt["a"],VListTileContent:V["b"],VListTileSubTitle:V["c"],VListTileTitle:V["d"],VSubheader:mt["a"]});var bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedPage(),expression:"isSelectedPage()"}],attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[n("v-card",[n("v-list",{attrs:{subheader:""}},[n("v-subheader",[t._v("Дни рождения")]),t._l(t.contacts,function(e){return n("v-list-tile",{key:e.id,attrs:{avatar:""},on:{click:function(n){return t.showDialog(e.id)}}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.photo}})]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.fio)}}),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.getFormattedBirthday())}})],1)],1)})],2)],1)],1)],1)},Tt=[],Ot=(n("6b54"),n("f576"),n("ac6a"),function(t){function e(){return Object(l["a"])(this,e),Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"isSelectedPage",value:function(){return this.$store.getters.SELECTED_PAGE===L.BirthdayList}},{key:"showDialog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.$store.dispatch("SELECT_CONTACT_ID",t),this.$store.dispatch("SHOW_DIALOG")}},{key:"sortByBirthday",value:function(t){t.sort(this.compareContacts);var e=[];t.forEach(function(t){e.push(t.getMonthDateOfBirthday())});for(var n=((new Date).getMonth()+1).toString().padStart(2,"0")+(new Date).getDay().toString().padStart(2,"0"),a=this.binary_search(e,n),r=[],o=a;o<t.length;o++)r[o-a]=t[o];return Array.prototype.push.apply(r,t.splice(0,a)),r}},{key:"compareContacts",value:function(t,e){var n=t.getMonthDateOfBirthday(),a=e.getMonthDateOfBirthday(),r=0;return n>a?r=1:n<a&&(r=-1),r}},{key:"binary_search",value:function(t,e){var n=0,a=t.length-1,r=0;while(n<=a){r=Math.floor((n+a)/2);var o=t[r];if(o===e)return r;o>e?a=r-1:n=r+1}return r}},{key:"contacts",get:function(){var t=this.$store.getters.CONTACTS.slice(0);return t=t.filter(function(t){return t.birthday}),t=this.sortByBirthday(t),t}}]),e}(v["b"]));Ot=f["a"]([Object(v["a"])({})],Ot);var Ct=Ot,yt=Ct,Et=Object(b["a"])(yt,bt,Tt,!1,null,null,null),St=Et.exports;O()(Et,{VCard:pt["a"],VFlex:dt["a"],VLayout:ft["a"],VList:P["a"],VListTile:F["a"],VListTileAvatar:vt["a"],VListTileContent:V["b"],VListTileSubTitle:V["c"],VListTileTitle:V["d"],VSubheader:mt["a"]});var wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedPage(),expression:"isSelectedPage()"}],attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[n("v-card",[n("v-list",{attrs:{subheader:""}},[n("v-subheader",[t._v("Настройки")]),n("div",{staticClass:"button"},[n("v-btn",{attrs:{large:""},on:{click:function(e){return t.fillDefaultContactList()}}},[t._v("Cписок по умолчанию")]),n("v-btn",{attrs:{large:""},on:{click:function(e){return t.clearContactList()}}},[t._v("Очистить список")])],1)],1)],1)],1)],1)},kt=[],At=function(t){function e(){return Object(l["a"])(this,e),Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"isSelectedPage",value:function(){return this.$store.getters.SELECTED_PAGE===L.Settings}},{key:"fillDefaultContactList",value:function(){this.$store.dispatch("FILL_CONTACTS_IN_DEFAULT")}},{key:"clearContactList",value:function(){this.$store.dispatch("CLEAR_CONTACTS")}}]),e}(v["b"]);At=f["a"]([Object(v["a"])({})],At);var xt=At,Lt=xt,Rt=(n("a8b8"),Object(b["a"])(Lt,wt,kt,!1,null,"39ef6934",null)),Dt=Rt.exports;O()(Rt,{VBtn:ht["a"],VCard:pt["a"],VFlex:dt["a"],VLayout:ft["a"],VList:P["a"],VSubheader:mt["a"]});var Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"800px"},model:{value:t.dialogState,callback:function(e){t.dialogState=e},expression:"dialogState"}},[n("v-card",[n("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v(t._s(t.title))]),n("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{"align-center":"","justify-space-between":""}},[n("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[n("v-flex",{staticClass:"contact-photo-box"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-avatar",t._g({staticClass:"mr-3",attrs:{size:"50px"}},a),[n("img",{staticClass:"contact-photo",attrs:{src:t.contact.photo,alt:"Фото контакта"},on:{click:function(e){return t.showPhotoDialog()}}})])]}}])},[n("span",[t._v("Нажмите, чтобы просмотреть или загрузить фото")])])],1),n("v-flex",{attrs:{grow:""}},[n("v-text-field",{staticClass:"big-text-field",attrs:{label:"ФИО",input:t.updateContact()},model:{value:t.contact.fio,callback:function(e){t.$set(t.contact,"fio",e)},expression:"contact.fio"}})],1),n("v-flex",[n("v-combobox",{attrs:{items:t.groupsName,chips:"",placeholder:"Не определена",clearable:"","prepend-inner-icon":"group",label:"Группа"},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",{attrs:{selected:e.selected,color:t.contact.group.color,"text-color":"white",close:""},on:{input:function(n){return t.remove(e.item)}}},[n("strong",[t._v(t._s(e.item))]),t._v(" \n                  ")])]}}]),model:{value:t.selectedGroup,callback:function(e){t.selectedGroup=e},expression:"selectedGroup"}})],1)],1)],1),n("v-container",{staticClass:"padding-0",attrs:{fluid:""}},[n("v-layout",{staticClass:"label",attrs:{row:""}},[n("v-flex",[n("v-card-text",{staticClass:"px-0"},[t._v("Телефон")])],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.addPhoneField()}}},[n("v-icon",[t._v("add")])],1)],1)],1),t._l(t.contact.phones,function(e,a){return n("v-layout",{key:a,staticClass:"padding-0 narrow-row",attrs:{row:""}},[n("v-text-field",{staticClass:"padding-0",attrs:{"auto-grow":"","hide-details":!0,input:t.updateContact(),type:"tel","prepend-icon":"phone",placeholder:"__ (___) ___ __ __",prefix:"+",mask:"## (###) ### ## ##"},model:{value:t.contact.phones[a],callback:function(e){t.$set(t.contact.phones,a,e)},expression:"contact.phones[index]"}}),n("v-flex",{staticClass:"bottom",attrs:{xs1:""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.deletePhoneField(a)}}},[n("v-icon",[t._v("remove")])],1)],1)],1)})],2),n("v-container",{staticClass:"padding-0 bottom",attrs:{fluid:""}},[n("v-layout",{staticClass:"label",attrs:{row:""}},[n("v-flex",{staticClass:"padding-0"},[n("v-card-text",{staticClass:"px-0"},[t._v("Email")])],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.addEmailField()}}},[n("v-icon",[t._v("add")])],1)],1)],1),t._l(t.contact.emails,function(e,a){return n("v-layout",{key:a,staticClass:"medium-row",attrs:{row:""}},[n("v-flex",{attrs:{grow:""}},[n("v-text-field",{staticClass:"padding-0",attrs:{"prepend-inner-icon":"mail",placeholder:"Например, ivanpetrov@gmail.com",input:t.updateEmail(e,a),"error-messages":t.emailErrorMessages[a]},on:{blur:function(e){return t.validateEmails()}},model:{value:t.contact.emails[a],callback:function(e){t.$set(t.contact.emails,a,e)},expression:"contact.emails[index]"}})],1),n("v-flex",{staticClass:"bottom",attrs:{xs1:""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.deleteEmailField(a)}}},[n("v-icon",[t._v("remove")])],1)],1)],1)})],2),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({attrs:{label:"Дата рождения","persistent-hint":"","prepend-inner-icon":"event",readonly:""},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{locale:"ru","no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.contact.birthday,callback:function(e){t.$set(t.contact,"birthday",e)},expression:"contact.birthday"}})],1)],1),n("v-flex",[n("v-text-field",{attrs:{"prepend-inner-icon":"business",label:"Компания",input:t.updateContact()},model:{value:t.contact.company,callback:function(e){t.$set(t.contact,"company",e)},expression:"contact.company"}})],1)],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{"prepend-inner-icon":"language",label:"Веб-сайт",input:t.updateContact()},model:{value:t.contact.website,callback:function(e){t.$set(t.contact,"website",e)},expression:"contact.website"}})],1)],1)],1),n("v-card-actions",[t.deleteAction?n("v-btn",{attrs:{flat:"",color:"error"},on:{click:function(e){return t.deleteContact()}}},[t._v(t._s(t.deleteAction))]):t._e(),n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.performAction()}}},[t._v(t._s(t.action))]),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.closeDialog()}}},[t._v("Закрыть")])],1)],1),n("v-dialog",{attrs:{width:"300px"},model:{value:t.photoDialog,callback:function(e){t.photoDialog=e},expression:"photoDialog"}},[n("v-card",[n("v-card-title",{staticClass:"grey lighten-4 py-3 title"},[t._v("Фото контакта")]),n("v-container",[n("v-flex",[n("v-card",[n("v-img",{staticClass:"grey darken-4",attrs:{src:t.currentPhoto,"aspect-ratio":"1"}})],1)],1),n("v-flex",{staticClass:"py-2",attrs:{grow:""}},[n("v-layout",{staticClass:"py-1"},[t._v("URL")]),n("v-textarea",{staticClass:"margin-0",attrs:{"no-resize":"",box:"",rows:"3"},model:{value:t.photo,callback:function(e){t.photo=e},expression:"photo"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.savePhoto()}}},[t._v("Сохранить")]),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.closePhotoDialog()}}},[t._v("Закрыть")])],1)],1)],1)],1)},jt=[],Pt=(n("7514"),n("7f7f"),n("28a5"),n("768b")),Ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.None,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"//ssl.gstatic.com/s2/oz/images/sge/grey_silhouette.png",u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1;Object(l["a"])(this,t),this.id=u,this.fio=e,this.phones=n,this.group=new K(a),this.emails=r,this.website=o,this.birthday=i,this.company=c,this.photo=s}return Object(u["a"])(t,[{key:"setFromJSONObject",value:function(t){var e=t.group;this.id=t.id,this.fio=t.fio||"",this.phones=t.phones||[],this.group=new K(e.key),this.emails=t.emails||[],this.website=t.website,this.company=t.company,this.birthday=t.birthday,this.photo=t.photo}},{key:"isInGroup",value:function(){return this.group.key!==H.None}},{key:"getFormattedMainPhoneNumber",value:function(){var t="";return this.phones.length>0&&(t="+"+this.phones[0]),t}},{key:"getMonthDateOfBirthday",value:function(){var t="";if(this.birthday){var e=this.birthday.split("-"),n=Object(Pt["a"])(e,3),a=(n[0],n[1]),r=n[2];t=a+r}return t}},{key:"getFormattedBirthday",value:function(){if(!this.birthday)return"";var t=this.birthday.split("-"),e=Object(Pt["a"])(t,3),n=e[0],a=e[1],r=e[2];return"".concat(r,".").concat(a,".").concat(n)}},{key:"clone",value:function(){var e=new t;return e.id=this.id,e.fio=this.fio,e.phones=[],this.phones.forEach(function(t){e.phones.push(t)}),e.group=this.group,e.emails=[],this.emails.forEach(function(t){e.emails.push(t)}),e.website=this.website,e.birthday=this.birthday,e.company=this.company,e.photo=this.photo,e}},{key:"set",value:function(t){var e=this;this.id=t.id,this.fio=t.fio,this.phones=[],t.phones.forEach(function(t){e.phones.push(t)}),this.group=new K(t.group.key),this.emails=[],t.emails.forEach(function(t){e.emails.push(t)}),this.website=t.website,this.birthday=t.birthday,this.company=t.company,this.photo=t.photo}},{key:"IsEmpty",value:function(){return!(this.fio||this.website||this.birthday||this.company||0!==this.phones.length||0!==this.emails.length)}},{key:"IsReadyToSave",value:function(){return this.fio||this.phones.length>0}}]),t}(),It=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.title="",t.action="",t.deleteAction="",t.emailMask=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9._%+-]+\.[A-Za-z]{2,4}$/,t.emailErrorMessages=[],t.menu=!1,t.groups=[new K(W.Family),new K(W.Friends),new K(W.Сolleagues)],t.defaultPhoto=(new Ft).photo,t}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"savePhoto",value:function(){this.contact.photo=this.currentPhoto,this.photoDialog=!1}},{key:"updateContact",value:function(){this.$store.dispatch("UPDATE_CURRENT_CONTACT_CLONE",this.contact)}},{key:"addPhoneField",value:function(t){this.contact.phones.push("")}},{key:"deletePhoneField",value:function(t){this.contact.phones.splice(t,1)}},{key:"remove",value:function(t){this.contact.group=new K(W.None)}},{key:"addEmailField",value:function(t){this.contact.emails.push("")}},{key:"deleteEmailField",value:function(t){this.contact.emails.splice(t,1)}},{key:"updateEmail",value:function(t,e){this.emailErrorMessages[e]=t?this.validateEmail(t):"",this.updateContact()}},{key:"validateEmails",value:function(){this.emailErrorMessages=[];for(var t=0;t<this.contact.emails.length;t++)this.emailErrorMessages[t]=this.validateEmail(this.contact.emails[t])}},{key:"validateEmail",value:function(t){var e="";return null!=t&&"undefined"!==typeof t&&(t=t.trim()),t&&!this.emailMask.test(t)&&(e="Некорректный e-mail адрес."),e}},{key:"performAction",value:function(){var t=this.contact.phones.filter(function(t){return t});this.contact.phones=t,t=this.contact.emails.filter(function(t){return t}),this.contact.emails=t,this.$store.dispatch("UPDATE_CONTACT",this.contact),this.closeDialog()}},{key:"deleteContact",value:function(){this.$store.dispatch("DELETE_CONTACT",this.contact),this.closeDialog()}},{key:"showPhotoDialog",value:function(){this.photo=this.contact.photo,this.photoDialog=!0}},{key:"closePhotoDialog",value:function(){this.photoDialog=!1}},{key:"closeDialog",value:function(){this.title="",this.action="",this.deleteAction="",this.emailErrorMessages=[],this.$store.dispatch("CLOSE_DIALOG"),this.$store.dispatch("SET_CURRENT_PHOTO","")}},{key:"formatDate",value:function(t){if(!t)return"";var e=t.split("-"),n=Object(Pt["a"])(e,3),a=n[0],r=n[1],o=n[2];return"".concat(o,".").concat(r,".").concat(a)}},{key:"parseDate",value:function(t){if(!t)return"";var e=t.split("."),n=Object(Pt["a"])(e,3),a=n[0],r=n[1],o=n[2];return"".concat(o,"-").concat(a.padStart(2,"0"),"-").concat(r.padStart(2,"0"))}},{key:"dialogState",get:function(){return this.$store.getters.DIALOG_STATE},set:function(t){t||this.closeDialog()}},{key:"photoDialog",get:function(){return this.$store.getters.PHOTO_DIALOG_STATE},set:function(t){t?this.$store.dispatch("SHOW_PHOTO_DIALOG"):this.$store.dispatch("CLOSE_PHOTO_DIALOG")}},{key:"contact",get:function(){var t=this.$store.getters.CURRENT_CONTACT_CLONE;return-1===t.id?(this.title="Новый контакт",this.action="Создать"):(this.title="Просмотр контакта",this.action="Изменить",this.deleteAction="Удалить"),0===t.phones.length&&t.phones.push(""),0===t.emails.length&&t.emails.push(""),t},set:function(t){this.$store.dispatch("UPDATE_CURRENT_CONTACT_CLONE",t)}},{key:"currentPhoto",get:function(){return this.$store.getters.CURRENT_PHOTO},set:function(t){this.$store.dispatch("SET_CURRENT_PHOTO",t)}},{key:"photo",get:function(){return this.currentPhoto===this.defaultPhoto?"":this.currentPhoto},set:function(t){var e=this,n=new Image;n.src=t,n.onload=function(){e.currentPhoto=t},n.onerror=function(){e.currentPhoto=e.defaultPhoto}}},{key:"selectedGroup",get:function(){return this.contact.group.key===W.None?"":this.contact.group.name},set:function(t){this.contact.group=this.groups.find(function(e){return e.name===t})||new K(W.None),this.updateContact()}},{key:"groupsName",get:function(){return this.groups.map(function(t){return t.name})}},{key:"dateFormatted",get:function(){return this.formatDate(this.contact.birthday.substr(0,10))},set:function(t){this.contact.birthday=null===t?"":t,this.updateContact()}}]),e}(v["b"]);It=f["a"]([Object(v["a"])({})],It);var Vt=It,Gt=Vt,$t=(n("de3d"),n("8212")),Ut=n("99d9"),Ht=n("12b2"),Bt=n("2b5d"),Mt=n("a523"),Wt=n("2e4b"),Jt=n("169a"),zt=n("adda"),Zt=n("e449"),qt=n("9910"),Kt=n("2677"),Qt=n("a844"),Xt=n("3a2f"),Yt=Object(b["a"])(Gt,Nt,jt,!1,null,null,null),te=Yt.exports;O()(Yt,{VAvatar:$t["a"],VBtn:ht["a"],VCard:pt["a"],VCardActions:Ut["a"],VCardText:Ut["b"],VCardTitle:Ht["a"],VChip:tt["a"],VCombobox:Bt["a"],VContainer:Mt["a"],VDatePicker:Wt["a"],VDialog:Jt["a"],VFlex:dt["a"],VIcon:j["a"],VImg:zt["a"],VLayout:ft["a"],VMenu:Zt["a"],VSpacer:qt["a"],VTextField:Kt["a"],VTextarea:Qt["a"],VTooltip:Xt["a"]});var ee={name:"App",components:{AppHeader:w,NavBar:U,ContactList:_t,BirthdayList:St,Settings:Dt,ContactCard:te},data:function(){return{}}},ne=ee,ae=n("7496"),re=n("549c"),oe=Object(b["a"])(ne,o,i,!1,null,null,null),ie=oe.exports;O()(oe,{VApp:ae["a"],VContent:re["a"]});n("96cf");var ce=n("3b8d"),se=(n("20d6"),n("c5f6"),n("04ff"),n("2f62"));a["a"].use(se["a"]);var le=new se["a"].Store({state:{drawerState:!0,selectedPage:L.ContactList,contacts:[],currentContactId:-1,currentContactClone:new Ft,currentPhoto:"",groupToFilter:W.None,dialogState:!1,photoDialogState:!1},getters:{DRAWER_STATE:function(t){var e=localStorage.drawerState;return e&&(t.drawerState="true"===e),t.drawerState},SELECTED_PAGE:function(t){var e=localStorage.selectedPage;return e&&(t.selectedPage=Number.parseInt(e,10)),t.selectedPage},CONTACTS:function(t){var e=localStorage.getItem("contacts");if(e){var n=[];try{var a=JSON.parse(e);a.forEach(function(t){var e=new Ft;e.setFromJSONObject(t),n.push(e)}),t.contacts=n}catch(r){localStorage.removeItem("contacts")}}return t.contacts},CURRENT_CONTACT_ID:function(t){var e=localStorage.currentContactId;return e&&(t.currentContactId=Number.parseInt(e,10)),t.currentContactId},CURRENT_CONTACT_CLONE:function(t){var e=localStorage.getItem("currentContactClone");if(e)try{var n=JSON.parse(e),a=new Ft;a.setFromJSONObject(n),t.currentContactClone=a}catch(r){localStorage.removeItem("contacts")}return t.currentContactClone},CURRENT_PHOTO:function(t){var e=localStorage.currentPhoto;return e&&(t.currentPhoto=e),t.currentPhoto},GROUP_TO_FILTER:function(t){var e=localStorage.groupToFilter;return e&&(t.groupToFilter=Number.parseInt(e,10)),t.groupToFilter},DIALOG_STATE:function(t){var e=localStorage.dialogState;return e&&(t.dialogState="true"===e),t.dialogState},PHOTO_DIALOG_STATE:function(t){var e=localStorage.photoDialogState;return e&&(t.photoDialogState="true"===e),t.photoDialogState}},mutations:{ADD_CONTACT:function(t,e){var n=-1,a=-1;do{n=Math.floor(5e4*Math.random()),a=t.contacts.findIndex(function(t){return t.id===n})}while(a>-1);e.id=n,t.contacts.push(e)},SET_CONTACT:function(t,e){var n=t.contacts.findIndex(function(t){return t.id===e.id});n>-1&&t.contacts[n].set(e)},DELETE_CONTACT:function(t,e){var n=t.contacts.findIndex(function(t){return t.id===e.id});if(n>-1){for(var a=[],r=0;r<t.contacts.length;r++)r!==n&&a.push(t.contacts[r]);t.contacts=a}},SET_CURRENT_CONTACT_ID:function(t,e){var n=t.contacts.findIndex(function(t){return t.id===e});t.currentContactId=e,t.currentContactClone=n>-1?t.contacts[n].clone():new Ft,localStorage.currentContactId=t.currentContactId;var a=JSON.stringify(t.currentContactClone);localStorage.setItem("currentContactClone",a)},SET_CURRENT_CONTACT_CLONE:function(t,e){t.currentContactClone=e;var n=JSON.stringify(t.currentContactClone);localStorage.setItem("currentContactClone",n)},SET_CURRENT_PHOTO:function(t,e){t.currentPhoto=e,localStorage.currentPhoto=t.currentPhoto},CLEAR_CONTACTS:function(t){t.contacts=[]},LOAD_TO_LOCAL_STORAGE:function(t){var e=JSON.stringify(t.contacts);localStorage.setItem("contacts",e)},SWITCH_DRAWER_STATE:function(t){t.drawerState=!t.drawerState,localStorage.drawerState=t.drawerState},CLOSE_DRAWER:function(t){t.drawerState=!1,localStorage.drawerState=t.drawerState},SET_SELECTED_PAGE:function(t,e){t.selectedPage=e,localStorage.selectedPage=t.selectedPage},SET_GROUP_TO_FILTER:function(t,e){t.groupToFilter=e,localStorage.groupToFilter=t.groupToFilter},SET_DIALOG_STATE:function(t,e){t.dialogState=e,localStorage.dialogState=t.dialogState},SET_PHOTO_DIALOG_STATE:function(t,e){t.photoDialogState=e,localStorage.photoDialogState=t.photoDialogState}},actions:{SELECT_CONTACT_ID:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_CURRENT_CONTACT_ID",n);case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),CLOSE_CURRENT_CONTACT:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_CURRENT_CONTACT",new Ft);case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),UPDATE_CURRENT_CONTACT_CLONE:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_CURRENT_CONTACT_CLONE",n);case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),SET_CURRENT_PHOTO:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_CURRENT_PHOTO",n);case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),UPDATE_CONTACT:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:null!==n&&void 0!==n&&(-1!==n.id?e.commit("SET_CONTACT",n):e.commit("ADD_CONTACT",n),e.commit("LOAD_TO_LOCAL_STORAGE"));case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),DELETE_CONTACT:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:null!==n&&void 0!==n&&-1!==n.id&&(e.commit("DELETE_CONTACT",n),e.commit("LOAD_TO_LOCAL_STORAGE"));case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),FILL_CONTACTS_IN_DEFAULT:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("CLEAR_CONTACTS"),n=[new Ft("Сестричка",["380713333333","380714445577"],W.Family,["likamamutova@gmail.com","likamamutova@yandex.ru"],"https:\\\\vk.com\\likamamutova","2000-07-11",void 0,"https://scontent-frt3-2.cdninstagram.com/vp/d4537dd9748a1f5ae17faba22640ee02/5DB829CF/t51.2885-19/s150x150/49756238_337247823540542_2823749351384285184_n.jpg?_nc_ht=scontent-frt3-2.cdninstagram.com"),new Ft("Мама",["380716767666"],W.Family,["tatyanamamutova@gmail.com"],void 0,"1973-06-11"),new Ft("Папа",["380718989888"],W.Family,["alexmamutov@gmail.com"],void 0,"1973-04-06"),new Ft("Алина Ермолаева",["380714545454"],W.Friends,["mandxalinka@gmail.com"],"https://www.behance.net/mandxalinka","1999-01-08",void 0,"https://scontent-frt3-2.cdninstagram.com/vp/d8b7f85e448d41be55babdcbe397c826/5DBD6E53/t51.2885-19/s150x150/41726968_1085408181626092_597941335449665536_n.jpg?_nc_ht=scontent-frt3-2.cdninstagram.com"),new Ft("Катя Головачёва",["380719090999"],W.Friends,["ekaterinagolovachova@gmail.com"],"","1999-07-05",void 0,"https://scontent-frt3-2.cdninstagram.com/vp/a166d138b8febccedee2b00812c8d3ab/5DC3F72C/t51.2885-15/e35/13687028_1033094640071914_701415249_n.jpg?_nc_ht=scontent-frt3-2.cdninstagram.com"),new Ft("Дубянская Анастасия Олеговна",["380712345678"]),new Ft("Владислава Колосова",["380711212111"],W.Сolleagues,["vladislavakolosova@gmail.com"],"https:\\\\github.com\\vladislavakolosova",void 0,void 0,"https://scontent-frt3-2.cdninstagram.com/vp/a0bd7f0b7d41539e2143565aa9675c81/5DC4C658/t51.2885-19/s150x150/17076485_1219216521508731_699949115127103488_a.jpg?_nc_ht=scontent-frt3-2.cdninstagram.com"),new Ft("Владислав Овдейчук",["380713636333"],W.Сolleagues,["vladislavovdeychyk@gmail.com"],"https:\\\\github.com\\vladislavovdeychyk"),new Ft("Морозов Кирилл Константинович",["380710099876"]),new Ft("Иванченко Юрий Сергеевич",["380716543111"],W.Сolleagues)],n.forEach(function(t){e.commit("ADD_CONTACT",t)}),e.commit("LOAD_TO_LOCAL_STORAGE");case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),CLEAR_CONTACTS:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("CLEAR_CONTACTS"),e.commit("LOAD_TO_LOCAL_STORAGE");case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),LOAD_TO_LOCAL_STORAGE:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("LOAD_TO_LOCAL_STORAGE");case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),SWITCH_DRAWER_STATE:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SWITCH_DRAWER_STATE");case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),CLOSE_DRAWER:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("CLOSE_DRAWER");case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),SELECT_PAGE:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_SELECTED_PAGE",n);case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),SHOW_DIALOG:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_DIALOG_STATE",!0);case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),CLOSE_DIALOG:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_DIALOG_STATE",!1);case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),SHOW_PHOTO_DIALOG:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_PHOTO_DIALOG_STATE",!0);case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),CLOSE_PHOTO_DIALOG:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_PHOTO_DIALOG_STATE",!1);case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),CHANGE_GROUP_TO_FILTER:function(){var t=Object(ce["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("SET_GROUP_TO_FILTER",n);case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()}});a["a"].config.productionTip=!1,new a["a"]({store:le,render:function(t){return t(ie)}}).$mount("#app")},de3d:function(t,e,n){"use strict";var a=n("57dd"),r=n.n(a);r.a}});
//# sourceMappingURL=app.bf27673c.js.map